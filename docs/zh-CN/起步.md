# 起步

## 安装依赖

```npm
npm install
```

## 模板结构

```bash
├── assets
├── background
│   ├── dev-hmr.js  // 开发环境下的热更新脚本
│   └── main.js  // 背景脚本
├── logic
│   └── common-setup.js  // 公共设置脚本
├── manifest.js // manifest.json 生成脚本
├── options // 选项页
│   ├── OptionsPage.vue
│   ├── index.html
│   └── main.js
├── popup // 弹窗
│   ├── PopupComponent.vue
│   ├── index.html
│   └── main.js
├── sidepanel // 侧边栏
│   ├── SidePanel.vue
│   ├── assets
│   │   └── logo.png
│   ├── index.html
│   └── main.js
└── utils
    ├── base.js // 基础工具函数
    └── config.js // 配置文件函数
```

## 如何开发？

### 启动热更新

```npm
npm run dev:ext
```

### 安装扩展

1. 打开 Chrome 浏览器。
2. 点击浏览器菜单（通常是三个垂直点图标），选择“更多工具”>“扩展程序”。
3. 在扩展程序页面，打开“开发者模式”。
4. 点击“加载已解压的扩展程序”，选择项目根目录下的 `extension` 文件夹。

## 如何打包？

### 打包为生产版本

```npm
npm run build
```

### 打包为CRX3文件

```npm
npm run build:crx
```

执行后会在项目的 `release` 目录中生成：

- `extension.crx`：Chrome扩展安装文件
- `extension.zip`：扩展打包文件（可用于上传到Chrome Web Store）

同时在项目根目录生成：

- `key.pem`：私钥文件（用于后续更新扩展）

### 注意事项

- 首次执行`build:crx`命令会自动生成`key.pem`文件
- 请妥善保管`key.pem`文件，后续更新扩展时需要使用相同的密钥
- 不要将`key.pem`文件提交到版本控制系统
